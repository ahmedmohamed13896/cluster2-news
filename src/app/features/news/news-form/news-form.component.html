<section class="form-section">
  <h2>Add News Article</h2>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <div class="row">
      <div class="col-12 col-md-6 mb-3">
        <label for="title" class="form-label">Title</label>
        <input
          id="title"
          type="text"
          formControlName="title"
          class="form-control"
          [class.is-invalid]="
            form.get('title')?.invalid && form.get('title')?.touched
          "
        />
        <div
          class="invalid-feedback mt-1"
          *ngIf="form.get('title')?.hasError('required')"
        >
          Title is required.
        </div>
      </div>

      <div class="col-12 col-md-6 mb-3">
        <label for="publishDate" class="form-label">Publish Date</label>
        <input
          id="publishDate"
          type="date"
          formControlName="publishDate"
          class="form-control"
          [class.is-invalid]="
            form.get('publishDate')?.invalid && form.get('publishDate')?.touched
          "
        />
        <div
          class="invalid-feedback"
          *ngIf="form.get('publishDate')?.hasError('required')"
        >
          Date is required.
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label for="summary" class="form-label">Summary</label>
      <input
        id="summary"
        type="text"
        formControlName="summary"
        class="form-control"
      />
    </div>

    <div class="mb-3">
      <label for="content" class="form-label">Content</label>
      <textarea
        id="content"
        formControlName="content"
        rows="6"
        class="form-control"
        [class.is-invalid]="
          form.get('content')?.invalid && form.get('content')?.touched
        "
      ></textarea>
      <div
        class="invalid-feedback"
        *ngIf="form.get('content')?.hasError('required')"
      >
        Content is required.
      </div>
    </div>

    <div class="mb-3">
      <label for="tags" class="form-label">Tags (comma separated)</label>
      <input
        id="tags"
        type="text"
        formControlName="tags"
        class="form-control"
        placeholder="e.g., airport, terminal, passengers"
      />
    </div>

    <div class="d-flex flex-column flex-sm-row gap-2">
      <button 
        type="submit" 
        class="btn btn-primary" 
        [disabled]="form.invalid || isSubmitting()"
      >
        <span *ngIf="isSubmitting()" class="spinner-border spinner-border-sm me-2"></span>
        {{ isSubmitting() ? 'Creating...' : 'Submit' }}
      </button>
      <button 
        type="button" 
        class="btn btn-outline-secondary" 
        routerLink="/"
        [disabled]="isSubmitting()"
      >
        Cancel
      </button>
    </div>
  </form>
</section>
